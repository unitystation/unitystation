
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Project Design and Documentation for development">
      
      
        <link rel="canonical" href="https://unitystation.github.io/unitystation/development/SyncVar-Best-Practices-for-Easy-Networking/">
      
      
        <meta name="author" content="MrMepper">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.0">
    
    
      
        <title>SyncVar Best Practices for Easy Networking - UnityStation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bc7e593a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab28b872.min.css">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#proper-syncvar-usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://unitystation.github.io/unitystation/" title="UnityStation" class="md-header-nav__button md-logo" aria-label="UnityStation">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            UnityStation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              SyncVar Best Practices for Easy Networking
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/unitystation/unitystation/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    unitystation/unitystation
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://unitystation.github.io/unitystation/" title="UnityStation" class="md-nav__button md-logo" aria-label="UnityStation">
      
  <img src="../../assets/images/logo.png" alt="logo">

    </a>
    UnityStation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/unitystation/unitystation/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    unitystation/unitystation
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../CODE_OF_CONDUCT/" class="md-nav__link">
      Code of Conduct
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../CONTRIBUTING/" class="md-nav__link">
      Contribution and Review Guidelines
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../Documentation-Guide/" class="md-nav__link">
      Documentation Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../GPLv3/" class="md-nav__link">
      Licensing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Contribution guides
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Contribution guides" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        Contribution guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribution-guides/Building-And-Testing/" class="md-nav__link">
      Building and Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribution-guides/Developing-for-UnityStation-on-Unix-Systems-with-the-Unity-Editor-and-JetBrains-Rider/" class="md-nav__link">
      Developing On Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribution-guides/Development-Standards-Guide/" class="md-nav__link">
      Development Standards Guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../contribution-guides/Starting-contribution/" class="md-nav__link">
      Starting Contribution
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Development
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Development" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../Addressables/" class="md-nav__link">
      Overview of Addressable Sounds
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Component-Development-Checklist/" class="md-nav__link">
      Component Development Checklist
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Crafting-System/" class="md-nav__link">
      Crafting System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Creating-Items-and-Objects/" class="md-nav__link">
      Creating Items and Objects
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Creating-and-Using-Tile-Palettes/" class="md-nav__link">
      Creating and Using Tile Pallettes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Development-Gotchas-and-Common-Mistakes/" class="md-nav__link">
      Development Gotchas and Common Mistakes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Development-Protips/" class="md-nav__link">
      Development Protips
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Directory-Structure/" class="md-nav__link">
      Directory Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Electricity-Development/" class="md-nav__link">
      Electricity Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Emotes/" class="md-nav__link">
      EmoteSO, and how to work with it.
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Helpful-Functions-Cheatsheet/" class="md-nav__link">
      Helpful Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Hosting-a-Server/" class="md-nav__link">
      Hosting a Server
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../How-To-User-Interface/" class="md-nav__link">
      How To Create a User Interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../How-to-Map/" class="md-nav__link">
      How to Map
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../How-to-Random-Loot/" class="md-nav__link">
      How to use random spawners
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../How-to-Sprite/" class="md-nav__link">
      How to Sprite
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../How-to-use-ReplaceWithPrefab.cs/" class="md-nav__link">
      How to use ReplaceWithPrefab.cs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../How-to-use-UIActions/" class="md-nav__link">
      How to use UIActions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../How-to-use-the-in-game-debugger/" class="md-nav__link">
      Using the In-game Debugger
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Implementing-Interactions/" class="md-nav__link">
      Implementing Interactions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Inventory-System/" class="md-nav__link">
      Inventory System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Item-Traits-System/" class="md-nav__link">
      Item Traits System
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Mirror-Upgrade-Customization-Notes/" class="md-nav__link">
      Mirror Upgrade Customization Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Mirror/" class="md-nav__link">
      Mirror (Networking library)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Module-Structure/" class="md-nav__link">
      Module Structure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Multiplayer-PlayMode/" class="md-nav__link">
      Introduction to [Multiplayer Playmode](https://docs.unity3d.com/Packages/com.unity.multiplayer.playmode@0.1/manual/index.html)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Navigating-DM-codebases-%28like-tgstation%29/" class="md-nav__link">
      Navigating DM codebases (like tgstation)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Networking-%28Network-Messages%29/" class="md-nav__link">
      Networking (Network Messages)
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Notes-on-SyncObject-and-SyncList/" class="md-nav__link">
      Note SyncObject And SyncList Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Occupations/" class="md-nav__link">
      Occupations
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Physics-Layers/" class="md-nav__link">
      Physics Layers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Projectiles/" class="md-nav__link">
      Projectiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Proper-Spawning-and-Despawning-%28Object-Lifecycle%29/" class="md-nav__link">
      Proper Spawning and Despawning
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../RPC-vs-Netmsg/" class="md-nav__link">
      RPC vs Netmsg
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Right-Click-Menu/" class="md-nav__link">
      Right Click Menu
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Simulating-Lag/" class="md-nav__link">
      Simulating Lag
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Species-Notes/" class="md-nav__link">
      Species Notes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Stripping-Scenes-For-Quick-Build/" class="md-nav__link">
      Stripping Scenes For Quick Build
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
    <a href="./" class="md-nav__link md-nav__link--active">
      SyncVar Best Practices for Easy Networking
    </a>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../The-Clearance-System/" class="md-nav__link">
      What is the Clearance System?
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Undo-RecordObject-vs-EditorUtility-SetDirty/" class="md-nav__link">
      Undo RecordObject vs EditorUtility SetDirty
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../What-is-a-matrix/" class="md-nav__link">
      What is a matrix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../Working-with-Speech-Modifiers/" class="md-nav__link">
      Working with Speech Modifiers
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Faq
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Faq" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        Faq
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../faq/Building/" class="md-nav__link">
      Building FAQ
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Project goals
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Project goals" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        Project goals
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/roadmap/" class="md-nav__link">
      RoadMap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2">
    
    <label class="md-nav__link" for="nav-9-2">
      Current goal scope
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Current goal scope" data-md-level="2">
      <label class="md-nav__title" for="nav-9-2">
        <span class="md-nav__icon md-icon"></span>
        Current goal scope
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/additional-job-role-developments/" class="md-nav__link">
      Additional Job Role Developments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/antagonist-roles/" class="md-nav__link">
      Antagonist roles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/centcomm-missions/" class="md-nav__link">
      Centcomm missions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/character-customization/" class="md-nav__link">
      Character customization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/mapping-changes/" class="md-nav__link">
      Mapping changes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/mining/" class="md-nav__link">
      Mining
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/new-lobby-screen/" class="md-nav__link">
      New lobby screen
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/npc-aliens/" class="md-nav__link">
      Npc aliens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/player-accounts/" class="md-nav__link">
      Player accounts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/shuttles/" class="md-nav__link">
      Shuttles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/start-of-round/" class="md-nav__link">
      Start of round
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../project-goals/current-goal-scope/the-narrative/" class="md-nav__link">
      The narrative
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/unitystation/unitystation/edit/develop/docs/development/SyncVar-Best-Practices-for-Easy-Networking.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <p>The <a href="https://mirror-networking.com/docs/Guides/Sync/SyncVars.html">SyncVar attribute</a> can save a lot of time and code for syncing data from server to all clients (because it avoids having to implement a custom Net Message), but many of us have struggled with understanding its peculiarities (of which it has many) especially as it pertains to how Unitystation is put together. Having used it quite a bit now, I've developed a set of simple "best practices" for how to use them which should hopefully save future developers from struggling with it.</p>
<h1 id="proper-syncvar-usage">Proper SyncVar Usage<a class="headerlink" href="#proper-syncvar-usage" title="Permanent link">&para;</a></h1>
<p>These are things you should almost ALWAYS do if using syncvar. If you see places in the code where these rules are violated, be suspicious of bugs. Note that most of these tips only apply if you define a "hook" method.</p>
<ol>
<li>
<p><strong><em>*</em>* </strong>Do not use Gameobject in SyncVars<strong> </strong>****, Due to our multithreaded implementation of mirror, 
Mirror does a get component In one of the threads outside of the main unity thread causing unity, Throw an error in the network loop causing many unforeseen consequences
Use something like this Instead.</p>
<div class="codehilite"><pre><span></span><code><span class="k">public</span> <span class="k">class</span> <span class="nc">ItemAttributes</span> <span class="p">:</span> <span class="n">NetworkBehavior</span>
<span class="p">{</span>
<span class="na">   [SyncVar(hook = nameof(SyncOrbitObject))]</span>
   <span class="k">private</span> <span class="n">NetworkIdentity</span> <span class="n">IDtarget</span><span class="p">;</span>

   <span class="k">private</span> <span class="n">GameObject</span> <span class="n">target</span> <span class="c1">//ues target as your main reference</span>
   <span class="p">{</span>
       <span class="k">get</span> <span class="p">=&gt;</span> <span class="n">IDtarget</span><span class="p">.</span><span class="n">gameObject</span><span class="p">;</span>
       <span class="k">set</span> <span class="p">=&gt;</span> <span class="n">SyncOrbitObject</span><span class="p">(</span><span class="n">IDtarget</span><span class="p">,</span> <span class="k">value</span><span class="p">.</span><span class="n">NetWorkIdentity</span><span class="p">());</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</li>
<li>
<p>Add SyncVar to the field you want to sync. The field should ALWAYS be private, and it should NOT be editor assignable. NEVER allow the field to be directly modified by other components or in editor. If you want to configure an initial value for this field, create a separate editor field for it.</p>
<div class="codehilite"><pre><span></span><code><span class="k">public</span> <span class="k">class</span> <span class="nc">ItemAttributes</span> <span class="p">:</span> <span class="n">NetworkBehavior</span>
<span class="p">{</span>

    <span class="c1">//allows configuring the initial value in editor - NOT a syncvar!</span>
<span class="na">    [SerializeField]</span>
    <span class="k">private</span> <span class="kt">string</span> <span class="n">initialName</span><span class="p">;</span>

    <span class="c1">//the actual syncvar</span>
<span class="na">    [SyncVar(hook=nameof(SyncItemName))]</span>
    <span class="k">private</span> <span class="kt">string</span> <span class="n">itemName</span><span class="p">;</span>

<span class="p">}</span>
</code></pre></div>

<ul>
<li>
<p>If the field needs to be viewable externally, create a public readonly accessor:</p>
<div class="codehilite"><pre><span></span><code><span class="k">public</span> <span class="kt">string</span> <span class="n">ItemName</span> <span class="p">=&gt;</span> <span class="n">itemName</span><span class="p">;</span>
</code></pre></div>

</li>
<li>
<p>If other components need to know when the syncvar changes, create a UnityEvent they can subscribe to which you invoke in your hook method.</p>
<div class="codehilite"><pre><span></span><code><span class="na">[NonSerialized]</span> <span class="c1">// usually don&#39;t want these to be assignable in editor</span>
<span class="k">public</span> <span class="n">StringEvent</span> <span class="n">OnItemNameChange</span> <span class="p">=</span> <span class="k">new</span> <span class="n">StringEvent</span><span class="p">();</span>

<span class="c1">// event class - declare this outside of component class</span>
<span class="k">class</span> <span class="nc">StringEvent</span> <span class="p">:</span> <span class="n">UnityEvent</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="p">{</span> <span class="p">}</span>
</code></pre></div>

</li>
</ul>
</li>
<li>
<p>(Only if you have a hook method) Define an EnsureInit private method and put any necessary init logic for your component in there (caching components, setting initial values) along with a check that skips the init logic if the component is already initialized. You will add this to the top of any SyncVar hook methods, OnStartClient, OnStartServer, Awake, and Start methods. This is necessary because Mirror does not guarantee that its methods will be called before Awake()/Start(), so we have to always ensure the component is initialized. Search for "EnsureInit" in our codebase for examples. For example, here we cache a spriteHandler component</p>
<div class="codehilite"><pre><span></span><code><span class="k">private</span> <span class="k">void</span> <span class="nf">EnsureInit</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(!</span><span class="k">this</span><span class="p">.</span><span class="n">spriteHandler</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="n">spriteHandler</span> <span class="p">=</span> <span class="n">GetComponentInChildren</span><span class="p">&lt;</span><span class="n">SpriteHandler</span><span class="p">&gt;();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

</li>
<li>
<p>(Only if you have a hook method) Define a private hook method named "Sync(name of field)". The line of the hook after EnsureInit should update the field based on the new value. Do NOT make a protected or public hook method. Starting the method name with Sync is important because it makes it easier for others to know that this method is exclusively for changing this syncvar.</p>
<div class="codehilite"><pre><span></span><code><span class="k">private</span> <span class="k">void</span> <span class="nf">SyncItemName</span><span class="p">(</span><span class="kt">string</span> <span class="n">oldName</span><span class="p">,</span> <span class="kt">string</span> <span class="n">newName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">EnsureInit</span><span class="p">()</span>
    <span class="k">this</span><span class="p">.</span><span class="n">itemName</span> <span class="p">=</span> <span class="n">newName</span><span class="p">;</span>
    <span class="c1">//any other logic needed goes here</span>
<span class="p">}</span>
</code></pre></div>

<ul>
<li>You generally will need a hook unless the client doesn't need to invoke any special logic when the value changes.</li>
<li>Note that Mirror actually does set the field automatically on the clientside when the hook is triggered by a server update, but if you called the hook directly on server side (instead of actually changing the field's value) it would not automatically change the value. This has created a lot of needless confusion and mistakes in the past because it is so situational, so sticking to the conventions documented on this page will avoid that confusion.</li>
</ul>
</li>
<li>
<p>(Only if you have a hook method) Override OnStartClient (make sure to use the "override" keyword!) and invoke the hook, passing it the current value of the field. If you are extending a component, make sure to call base.OnStartClient(). This ensures the SyncVar hook is called based on the initial value of the field that the server sends. Also call EnsureInit at the top to ensure any necessary init logic is called (Mirror may call OnStartClient before Awake/Start)</p>
<div class="codehilite"><pre><span></span><code><span class="c1">//make sure to use &quot;override&quot; and use correct name &quot;OnStartClient&quot;</span>
<span class="k">public</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnStartClient</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">EnsureInit</span><span class="p">()</span>
    <span class="n">SyncItemName</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="n">itemName</span><span class="p">);</span>
    <span class="k">base</span><span class="p">.</span><span class="n">OnStartClient</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</li>
<li>
<p>(Only if you have a hook method) Implement the IServerSpawn interface and set the syncvar field to the initial value in the method. This is a method which is invoked when an object is being spawned, regardless of if it's coming from the pool or not. This ensures that the object is properly re-initialized when it is being spawned from the object pool.</p>
<div class="codehilite"><pre><span></span><code><span class="k">public</span> <span class="k">void</span> <span class="nf">OnSpawnServer</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">//object starts with editor-configured initial name</span>
    <span class="n">SyncItemName</span><span class="p">(</span><span class="n">initialName</span><span class="p">);</span>

    <span class="c1">//if extending another component</span>
    <span class="k">base</span><span class="p">.</span><span class="n">OnSpawnServer</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>

</li>
<li>
<p>(Only if you have a hook method) The ONLY place you are allowed to change the value of the syncvar field is via the syncvar hook and only on the server! Never change the value on the client side, and never modify the field directly. If you are on the server and you want to change the field value, call the hook method and pass it the new value. This ensures that the hook logic will always be fired on both client and server side.</p>
<div class="codehilite"><pre><span></span><code><span class="na">[Server]</span>
<span class="k">private</span> <span class="k">void</span> <span class="nf">ServerChangeName</span><span class="p">(</span><span class="kt">string</span> <span class="n">newName</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">//NO! BAD! DON&#39;T DO THIS!</span>
    <span class="k">this</span><span class="p">.</span><span class="n">itemName</span> <span class="p">=</span> <span class="n">newName</span><span class="p">;</span>

    <span class="c1">//YES! GOOD! DO THIS INSTEAD!</span>
    <span class="n">SyncItemName</span><span class="p">(</span><span class="n">newName</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div>

</li>
<li>
<p>Do not rely on a consistent ordering when it comes to syncvar changes and net messages sent from the server. Due to network latency, if you change 2 syncvars and send a net message on the server, the updates could arrive on the client in any order.</p>
</li>
</ol>
<h1 id="various-issues-caused-by-improper-syncvar-usage">Various Issues Caused by Improper SyncVar Usage<a class="headerlink" href="#various-issues-caused-by-improper-syncvar-usage" title="Permanent link">&para;</a></h1>
<p>Here's some symptoms of improper syncvar usage:</p>
<ol>
<li>
<p>Clients who join after the syncvar field has been updated during gameplay (sometimes called "late joining clients") will not display the correct game state. Usually caused by not calling the hook in OnStartClient, sometimes caused by failing to properly override OnStartClient (using override keyword and using the correct method name).</p>
</li>
<li>
<p>Server player sees a different game state than the client. Usually caused by setting the syncvar field directly without going through the hook method.</p>
</li>
<li>
<p>SyncVar hooks throwing NREs - usually caused by failing to define an EnsureInit() method and call it at the top of the SyncVar hooks. Unity is calling the SyncVar hook before Awake/Start.</p>
</li>
<li>
<p>Client intermittently sees the incorrect game state related to a sync var. Usually caused by having SyncVar logic which has a race condition - the client is relying on the syncvar updates / server messages arriving in a particular order.</p>
</li>
<li>
<p>A newly-spawned object behaves differently than other objects of its type. This is due to failing to have a separate editor-assignable initial value for the field or failing to reset the field in OnSpawnServer. Your SyncVar field value was set to something other than the default, then was destroyed and returned to pool, then spawned from the pool with that same field value. This is solved by implementing IServerSpawn and initializing the syncvar value to its proper initial value (either the editor-assignable value or a hardcoded default).</p>
</li>
</ol>
<h1 id="surprising-syncvar-facts">Surprising SyncVar Facts<a class="headerlink" href="#surprising-syncvar-facts" title="Permanent link">&para;</a></h1>
<p>Here are some of the things you might not know about how they work which explains the reasoning for the above practices. Not 100% certain on all of these but they might as well be true.</p>
<ol>
<li>
<p>SyncVar hooks don't fire on the server when the server changes the field. They only fire on the client when the client receives the new value. Thus the server player will not have the hook called. This is the reason to always change the syncvar by way of the hook method on the server.</p>
</li>
<li>
<p>SyncVar hooks don't fire when client connects and receives the initial value of the field. This is why you should call the syncvar hook manually in OnStartClient.</p>
</li>
<li>
<p>SyncVar only works properly on specific types of fields (<a href="https://docs.unity3d.com/Manual/UNetStateSync.html">see the docs</a>), but Unity does not seem to complain very noisily if you use it on an invalid type - the game still builds. If your syncvar doesn't appear to be working, chances are you are using it on an invalid type.</p>
</li>
<li>
<p>SyncVar hooks, OnStartServer and OnStartClient may be called before Unity's Awake/Start hooks.</p>
</li>
<li>
<p>If you don't update the field's value in the syncvar hook using the new value passed to the hook method, the client-side value won't be updated. This is why you should always update the field in the first line of the hook method.</p>
</li>
<li>
<p>It takes a varying amount of time for the server to send the updated SyncVar field to the client, so make sure the code doesn't depend on the syncvar change arriving at a particular time or in a particular order in relation to other network messages or syncvar updates. If you change 2 syncvars on the server and also send a net message, they could arrive on the client in any order.</p>
</li>
</ol>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../Stripping-Scenes-For-Quick-Build/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Stripping Scenes For Quick Build
              </div>
            </div>
          </a>
        
        
          <a href="../The-Clearance-System/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                What is the Clearance System?
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.6a3d08fc.min.js"></script>
      <script src="../../assets/javascripts/bundle.71201edf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>